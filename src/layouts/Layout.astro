---
import Navbar from '../components/Navbar.astro';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="sr">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<script is:inline>
			(function() {
				const theme = localStorage.getItem('theme') || 
					(window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
				
				if (theme === 'dark') {
					document.documentElement.classList.add('dark');
				} else {
					document.documentElement.classList.remove('dark');
					document.documentElement.setAttribute('data-theme', 'light');
				}
			})();
		</script>
	</head>
	<body>
		<Navbar />
		<main>
			<slot />
		</main>
		<footer>
			<p>Црнобог | 2024 | Направљено у Србији</p>
		</footer>
	</body>
</html>

<style is:global>
	/* For Webkit browsers (Chrome, Safari) */
	::-webkit-scrollbar {
		width: 0;
		background: transparent;
	}

	/* For Firefox */
	* {
		scrollbar-width: none;
	}

	/* Hide scrollbar for IE and Edge */
	* {
		-ms-overflow-style: none;
	}

	:root {
		/* Catppuccin Latte (Light theme) */
		--rosewater: 220, 138, 120;
		--flamingo: 221, 120, 120;
		--pink: 234, 118, 203;
		--mauve: 136, 57, 239;
		--red: 210, 15, 57;
		--maroon: 230, 69, 83;
		--peach: 254, 100, 11;
		--yellow: 223, 142, 29;
		--green: 64, 160, 43;
		--teal: 23, 146, 153;
		--sky: 4, 165, 229;
		--sapphire: 32, 159, 181;
		--blue: 30, 102, 245;
		--lavender: 114, 135, 253;
		--text: 76, 79, 105;
		--subtext1: 92, 95, 119;
		--subtext0: 108, 111, 133;
		--overlay2: 124, 127, 147;
		--overlay1: 140, 143, 161;
		--overlay0: 156, 160, 176;
		--surface2: 172, 176, 190;
		--surface1: 188, 192, 204;
		--surface0: 204, 208, 218;
		--base: 239, 241, 245;
		--mantle: 230, 233, 239;
		--crust: 220, 224, 232;

		/* Theme variables */
		--accent: var(--mauve);
		--accent-light: var(--rosewater);
		--accent-dark: var(--surface0);
		--accent-gradient: linear-gradient(
			45deg,
			rgb(var(--accent)),
			rgb(var(--accent-light)) 30%,
			rgb(var(--base)) 60%
		);
		
		color-scheme: light;
	}

	/* Add dark theme variables */
	:root.dark {
		/* Catppuccin Mocha */
		--rosewater: 245, 224, 220;
		--flamingo: 242, 205, 205;
		--pink: 245, 194, 231;
		--mauve: 203, 166, 247;
		--red: 243, 139, 168;
		--maroon: 235, 160, 172;
		--peach: 250, 179, 135;
		--yellow: 249, 226, 175;
		--green: 166, 227, 161;
		--teal: 148, 226, 213;
		--sky: 137, 220, 235;
		--sapphire: 116, 199, 236;
		--blue: 137, 180, 250;
		--lavender: 180, 190, 254;
		--text: 205, 214, 244;
		--subtext1: 186, 194, 222;
		--subtext0: 166, 173, 200;
		--overlay2: 147, 153, 178;
		--overlay1: 127, 132, 156;
		--overlay0: 108, 112, 134;
		--surface2: 88, 91, 112;
		--surface1: 69, 71, 90;
		--surface0: 49, 50, 68;
		--base: 30, 30, 46;
		--mantle: 24, 24, 37;
		--crust: 17, 17, 27;

		color-scheme: dark;
	}

	html {
		font-family: system-ui, sans-serif;
		background: rgb(var(--base));
		color: rgb(var(--text));
	}

	body {
		margin: 0;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		opacity: 0;
		animation: fadeIn 0.3s ease-in forwards;
	}

	main {
		margin-top: 4rem;
		padding: 1rem;
		position: relative;
		z-index: 1;
		flex: 1;
	}

	code {
		font-family: Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono,
			Bitstream Vera Sans Mono, Courier New, monospace;
	}

	@keyframes fadeIn {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}

	footer {
		text-align: center;
		padding: 1rem;
		color: rgb(var(--subtext0));
		font-size: 0.9rem;
		margin-top: auto;
	}

	footer p {
		margin: 0;
		opacity: 0.8;
	}
</style>
